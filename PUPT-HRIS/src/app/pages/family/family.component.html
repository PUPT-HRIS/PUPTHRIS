<div class="container bg-base-200 rounded-lg shadow-lg p-0 mx-auto max-w-6xl mb-10">
  <div class="bg-maroon text-white p-4 rounded-t-lg w-full">
    <h1 class="text-2xl font-bold">Family Background</h1>
  </div>

  <ng-container *ngIf="!isEditing; else editForm">
    <div *ngIf="familyData" class="p-6 space-y-6">
      <div class="p-6 bg-white rounded-lg shadow-lg space-y-4">
        <p class="text-lg"><strong>Spouse Name:</strong> {{ familyData?.SpouseFirstName }} {{ familyData?.SpouseMiddleName }} {{ familyData?.SpouseLastName }}</p>
        <p class="text-lg"><strong>Spouse Occupation:</strong> {{ familyData?.SpouseOccupation }}</p>
        <p class="text-lg"><strong>Spouse Employer Name:</strong> {{ familyData?.SpouseEmployerName }}</p>
        <p class="text-lg"><strong>Spouse Business Address:</strong> {{ familyData?.SpouseBusinessAddress }}</p>
        <p class="text-lg"><strong>Spouse Telephone Number:</strong> {{ familyData?.SpouseTelephoneNumber }}</p>
        <p class="text-lg"><strong>Father's Name:</strong> {{ familyData?.FatherFirstName }} {{ familyData?.FatherMiddleName }} {{ familyData?.FatherLastName }}</p>
        <p class="text-lg"><strong>Mother's Name:</strong> {{ familyData?.MotherFirstName }} {{ familyData?.MotherMiddleName }} {{ familyData?.MotherLastName }}</p>
      </div>
      <div class="flex justify-end">
        <button class="btn bg-black text-white" (click)="toggleForm()">Edit</button>
      </div>
    </div>

    <div *ngIf="!familyData" class="p-6 space-y-6">
      <div class="p-6 bg-white rounded-lg shadow-lg">
        <p class="text-lg">No family background information available.</p>
      </div>
      <div class="flex justify-end">
        <button class="btn bg-black text-white" (click)="toggleForm()">Add Info</button>
      </div>
    </div>
  </ng-container>

  <ng-template #editForm>
    <div class="p-6">
      <form [formGroup]="familyForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <div class="grid grid-cols-2 gap-6">
          <div class="form-control w-full">
            <label for="SpouseLastName" class="label-text font-bold text-lg">Spouse Last Name</label>
            <input id="SpouseLastName" formControlName="SpouseLastName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseFirstName" class="label-text font-bold text-lg">Spouse First Name</label>
            <input id="SpouseFirstName" formControlName="SpouseFirstName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseMiddleName" class="label-text font-bold text-lg">Spouse Middle Name</label>
            <input id="SpouseMiddleName" formControlName="SpouseMiddleName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseOccupation" class="label-text font-bold text-lg">Spouse Occupation</label>
            <input id="SpouseOccupation" formControlName="SpouseOccupation" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseEmployerName" class="label-text font-bold text-lg">Spouse Employer Name</label>
            <input id="SpouseEmployerName" formControlName="SpouseEmployerName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseBusinessAddress" class="label-text font-bold text-lg">Spouse Business Address</label>
            <input id="SpouseBusinessAddress" formControlName="SpouseBusinessAddress" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="SpouseTelephoneNumber" class="label-text font-bold text-lg">Spouse Telephone Number</label>
            <input id="SpouseTelephoneNumber" formControlName="SpouseTelephoneNumber" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="FatherLastName" class="label-text font-bold text-lg">Father Last Name</label>
            <input id="FatherLastName" formControlName="FatherLastName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="FatherFirstName" class="label-text font-bold text-lg">Father First Name</label>
            <input id="FatherFirstName" formControlName="FatherFirstName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="FatherMiddleName" class="label-text font-bold text-lg">Father Middle Name</label>
            <input id="FatherMiddleName" formControlName="FatherMiddleName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="MotherLastName" class="label-text font-bold text-lg">Mother Last Name</label>
            <input id="MotherLastName" formControlName="MotherLastName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="MotherFirstName" class="label-text font-bold text-lg">Mother First Name</label>
            <input id="MotherFirstName" formControlName="MotherFirstName" class="input input-bordered w-full">
          </div>
          <div class="form-control w-full">
            <label for="MotherMiddleName" class="label-text font-bold text-lg">Mother Middle Name</label>
            <input id="MotherMiddleName" formControlName="MotherMiddleName" class="input input-bordered w-full">
          </div>
        </div>
        <div class="flex justify-end mt-6">
          <button type="submit" class="btn bg-black text-white mr-4">{{ familyData ? 'Update' : 'Add' }}</button>
          <button type="button" class="btn bg-maroon text-white" (click)="toggleForm()">Cancel</button>
        </div>
      </form>
    </div>
  </ng-template>
</div>

<app-children></app-children>

<!-- Toast Notifications -->
<div *ngIf="showToast" class="toast toast-end">
  <div *ngIf="toastType === 'success'" class="alert alert-success">
    <span>{{ toastMessage }}</span>
  </div>
  <div *ngIf="toastType === 'error'" class="alert alert-error">
    <span>{{ toastMessage }}</span>
  </div>
  <div *ngIf="toastType === 'warning'" class="alert alert-warning">
    <span>{{ toastMessage }}</span>
  </div>
</div>