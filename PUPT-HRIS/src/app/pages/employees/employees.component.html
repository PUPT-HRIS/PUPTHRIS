<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<div class="overflow-x-auto px-10">
  <div class="flex-1 mb-2">
    <a class="text-lg font-normal">You are currently viewing the lists of Employees.</a>
  </div>
  <table class="table table-zebra w-full border-separate border-spacing-0">
    <!-- head -->
    <thead>
      <tr class="bg-red-900 text-white">
        <th class="p-4">#</th>
        <th class="p-4">Fcode</th>
        <th class="p-4">Name</th>
        <th class="p-4">Instructor Status</th>
        <th class="p-4">Department</th>
        <th class="p-4">Employment Type</th>
        <th class="p-4 w-36">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users; let i = index">
        <th class="p-4">{{ i + 1 }}</th>
        <td class="p-4">{{ user.Fcode }}</td>
        <td class="p-4">{{ user.Name }}</td>
        <td class="p-4">{{ user.InstructorStatus }}</td>
        <td class="p-4">{{ user.Department }}</td>
        <td class="p-4">{{ user.EmploymentType }}</td>
        <td class="p-4">
          <button class="btn btn-primary btn-sm" (click)="openModal(user)">View Info</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal with Sections -->
<div *ngIf="isModalOpen" class="modal modal-open">
  <div class="modal-box">
    <h3 class="font-bold text-lg">Employee Information</h3>
    
    <!-- Tabs or Navigation -->
    <div class="tabs">
      <a class="tab tab-bordered" [class.tab-active]="activeTab === 'basic'" (click)="setActiveTab('basic')">Basic Details</a>
      <a class="tab tab-bordered" [class.tab-active]="activeTab === 'education'" (click)="setActiveTab('education')">Educational Background</a>
    </div>

    <!-- Basic Details Content -->
    <div *ngIf="activeTab === 'basic'">
      <table class="table w-full">
        <tbody>
          <tr>
            <td><strong>Employee No:</strong></td>
            <td>{{ basicDetails?.EmployeeNo }}</td>
          </tr>
          <tr>
            <td><strong>Faculty Code:</strong></td>
            <td>{{ basicDetails?.FacultyCode }}</td>
          </tr>
          <tr>
            <td><strong>Name:</strong></td>
            <td>{{ basicDetails?.Honorific }} {{ basicDetails?.FirstName }} {{ basicDetails?.MiddleInitial }} {{ basicDetails?.LastName }} {{ basicDetails?.NameExtension }}</td>
          </tr>
          <tr>
            <td><strong>Date of Birth:</strong></td>
            <td>{{ basicDetails?.DateOfBirth | date:'longDate' }}</td>
          </tr>
          <tr>
            <td><strong>Sex:</strong></td>
            <td>{{ basicDetails?.Sex }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="activeTab === 'education'">
      <table class="table w-full">
        <thead>
          <tr>
            <th>School Name</th>
            <th>Level</th>
            <th>Inclusive Dates of Attendance</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let education of educationDetails">
            <td>{{ education.NameOfSchool }}</td>
            <td>{{ education.Level }}</td>
            <td>
              {{ education.PeriodOfAttendanceFrom ? (education.PeriodOfAttendanceFrom | date:'yyyy') : '' }} - 
              {{ education.PeriodOfAttendanceTo ? (education.PeriodOfAttendanceTo | date:'yyyy') : '' }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Modal Action Buttons -->
    <div class="modal-action">
      <button class="btn" (click)="closeModal()">Close</button>
    </div>
  </div>
</div>








